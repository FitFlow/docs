
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Branch Documentation for Deep Linking">
      
      
        <link rel="canonical" href="https://branchmetrics.github.io/docs/pages/integrations/google-analytics/">
      
      
        <meta name="author" content="Branch">
      
      
        <link rel="shortcut icon" href="../../../img/favicon-96x96.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.5">
    
    
      
        <title>Google Analytics - Branch Documentation</title>
      
    
    
      <script src="../../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <style>.async-hide{opacity:0!important}</style>
      <script>!function(e,t,a,n,o,i,c,s,g){t.className+=" "+a,i.start=1*new Date,i.end=c=function(){t.className=t.className.replace(RegExp(" ?"+a),"")},(e[n]=e[n]||[]).hide=i,setTimeout(function(){c(),i.end=null},o),i.timeout=o}(window,document.documentElement,"async-hide","dataLayer",4e3,{"GTM-PCPBXCN":!0}),function(e,t,a,n,o,i,c){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(a),c=t.getElementsByTagName(a)[0],i.async=1,i.src=n,c.parentNode.insertBefore(i,c)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","","auto"),ga("require","GTM-PCPBXCN"),ga("send","pageview")</script>
    
    
      <script>!function(e,t){if(!t.__SV){var n=window;try{var i,a,p,o=n.location,r=o.hash;i=function(e,t){return(a=e.match(RegExp(t+"=([^&]*)")))?a[1]:null},r&&i(r,"state")&&(p=JSON.parse(decodeURIComponent(i(r,"state"))),"mpeditor"===p.action&&(n.sessionStorage.setItem("_mpcehash",r),history.replaceState(p.desiredHash||"",e.title,o.pathname+o.search)))}catch(e){}var l,s;window.mixpanel=t,t._i=[],t.init=function(e,n,i){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var p=t;for("undefined"!=typeof i?p=t[i]=[]:i="mixpanel",p.people=p.people||[],p.toString=function(e){var t="mixpanel";return"mixpanel"!==i&&(t+="."+i),e||(t+=" (stub)"),t},p.people.toString=function(){return p.toString(1)+".people (stub)"},l="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),s=0;s<l.length;s++)a(p,l[s]);t._i.push([e,n,i])},t.__SV=1.2,n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(n,i)}}(document,window.mixpanel||[]),mixpanel.init("47ec8ea9ac102b1370221dcda476091c")</script>
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application-769c285a91.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-02c2a4388f.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../../css/main.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="https://branchmetrics.github.io/docs" title="Branch Documentation" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Integrate analytics
                </span>
              
            
            Google Analytics
          
        </span>
      </div>
      
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="http://dev.branch.io/" id="header-old-docs" title="old docs">
            <i class="branch-header-icon md-icon material-icons">restore_page</i>
            <p class="branch-header-label">Old&nbsp;Docs</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#header-helpful" id="header-helpful" title="Helpful">
            <i class="branch-header-icon md-icon material-icons">thumb_up</i>
            <p class="branch-header-label">Helpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#header-unhelpful" id="header-unhelpful" title="Unhelpful">
            <i class="branch-header-icon md-icon material-icons">thumb_down</i>
            <p class="branch-header-label">Unhelpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="improve-doc" title="Improve This Doc">
            <i class="branch-header-icon md-icon material-icons">mode_edit</i>
            <p class="branch-header-label">Improve</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="contact-support" title="Contact support">
            <i class="branch-header-icon md-icon material-icons">help_outline</i>
            <p class="branch-header-label">Support</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#header-search" id="header-search" title="Search">
            <i class="branch-header-icon md-icon material-icons">search</i>
            <p class="branch-header-label">Search</p>
          </a>
        </div>
        <div class="md-flex__cell md-flex__cell--shrink" style="display:none">
      
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/branchmetrics/docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Branch Documentation
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Branch Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/branchmetrics/docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Branch Documentation
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      
      
        
      
        
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic deep linking
          </li>
        
      
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Integrate your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Integrate your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/adobe-air/" title="Adobe AIR" class="md-nav__link">
      Adobe AIR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/cordova-phonegap-ionic/" title="Cordova PhoneGap Ionic" class="md-nav__link">
      Cordova PhoneGap Ionic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/mparticle-android/" title="mParticle Android" class="md-nav__link">
      mParticle Android
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/mparticle-ios/" title="mParticle iOS" class="md-nav__link">
      mParticle iOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/titanium/" title="Titanium" class="md-nav__link">
      Titanium
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/unity/" title="Unity" class="md-nav__link">
      Unity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/xamarin/" title="Xamarin" class="md-nav__link">
      Xamarin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Integrate your website
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Integrate your website
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../web/setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Create deep links
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Create deep links
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../links/behavior/" title="Link behavior" class="md-nav__link">
      Link behavior
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../links/data/" title="Link data" class="md-nav__link">
      Link data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../links/link-domain/" title="Link domain" class="md-nav__link">
      Link domain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../links/create/" title="Creating links" class="md-nav__link">
      Creating links
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Track analytics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Track analytics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../analytics/behavior/" title="Behavior" class="md-nav__link">
      Behavior
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../analytics/referrals/" title="Referrals" class="md-nav__link">
      Referrals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../analytics/growth-attribution/" title="Growth" class="md-nav__link">
      Growth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../analytics/user-value attribution/" title="User Value" class="md-nav__link">
      User Value
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../analytics/revenue-attribution/" title="Revenue" class="md-nav__link">
      Revenue
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Advance deep linking
          </li>
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Deep link web
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Deep link web
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../web/deep-views/" title="Deepviews" class="md-nav__link">
      Deepviews
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web/journeys/" title="Journeys App Banners" class="md-nav__link">
      Journeys App Banners
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web/amp-journeys/" title="AMP Journeys" class="md-nav__link">
      AMP Journeys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web/text-me-the-app/" title="Text Me The App" class="md-nav__link">
      Text Me The App
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Deep link ads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Deep link ads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/apple/" title="Apple Search Ads" class="md-nav__link">
      Apple Search Ads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/dynamic-product-feeds/" title="Dynamic Product Feeds" class="md-nav__link">
      Dynamic Product Feeds
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/branch-universal-ads/" title="Branch Universal Ads" class="md-nav__link">
      Branch Universal Ads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/doubleclick/" title="Doubleclick" class="md-nav__link">
      Doubleclick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-ads-overview/" title="Google Ads Overview" class="md-nav__link">
      Google Ads Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-search-install-ads/" title="Google Search App Install Ads" class="md-nav__link">
      Google Search App Install Ads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-search-engagement-ads/" title="Google Search App Engagement Ads" class="md-nav__link">
      Google Search App Engagement Ads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-display-install-ads/" title="Google Display App Install Ads" class="md-nav__link">
      Google Display App Install Ads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-display-engagement-ads/" title="Google Display App Engagement Ads" class="md-nav__link">
      Google Display App Engagement Ads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-uac/" title="Google Universal App Campaigns" class="md-nav__link">
      Google Universal App Campaigns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-xplatform-search-ads/" title="Google Search Network Ads" class="md-nav__link">
      Google Search Network Ads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-xplatform-display-ads/" title="Google Display Network Ads" class="md-nav__link">
      Google Display Network Ads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-conversions/" title="Google Adwords Conversion Setup" class="md-nav__link">
      Google Adwords Conversion Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-video-ads/" title="Google Video Ads" class="md-nav__link">
      Google Video Ads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/facebook-app-installs/" title="Facebook App Installs" class="md-nav__link">
      Facebook App Installs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/facebook-app-engagement/" title="Facebook App Engagement" class="md-nav__link">
      Facebook App Engagement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/facebook-instagram/" title="Facebook Instagram" class="md-nav__link">
      Facebook Instagram
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/twitter/" title="Twitter Ads" class="md-nav__link">
      Twitter Ads
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Deep link emails
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Deep link emails
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../emails/responsys/" title="Responsys" class="md-nav__link">
      Responsys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../emails/sfmc/" title="SFMC" class="md-nav__link">
      SFMC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../emails/sendgrid/" title="SendGrid" class="md-nav__link">
      SendGrid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../emails/sailthru/" title="Sailthru" class="md-nav__link">
      Sailthru
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../emails/appboy/" title="AppBoy" class="md-nav__link">
      AppBoy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../emails/self-serve/" title="Self Serve" class="md-nav__link">
      Self Serve
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Deep link organic search
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Deep link organic search
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../organic-search/firebase/" title="Firebase" class="md-nav__link">
      Firebase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../organic-search/spotlight/" title="Spotlight" class="md-nav__link">
      Spotlight
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Deep link apps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Deep link apps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-to-app/android-instant-apps/" title="Android Instant Apps" class="md-nav__link">
      Android Instant Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-to-app/imessage-apps/" title="iMessage Apps" class="md-nav__link">
      iMessage Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-to-app/facebook-app-invites/" title="Facebook App Invites" class="md-nav__link">
      Facebook App Invites
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Export analytics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Export analytics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../exports/csv/" title="CSV Export" class="md-nav__link">
      CSV Export
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../exports/api/" title="Export API" class="md-nav__link">
      Export API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../exports/webhooks/" title="Webhooks" class="md-nav__link">
      Webhooks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      
      
        
      
        
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12" checked>
    
    <label class="md-nav__link" for="nav-12">
      Integrate analytics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Integrate analytics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../adobe-analytics/" title="Abobe Analytics" class="md-nav__link">
      Abobe Analytics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../adjust/" title="Adjust" class="md-nav__link">
      Adjust
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../amplitude/" title="Amplitude" class="md-nav__link">
      Amplitude
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../appboy/" title="Appboy" class="md-nav__link">
      Appboy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../appsflyer/" title="Appsflyer" class="md-nav__link">
      Appsflyer
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Google Analytics
      </label>
    
    <a href="./" title="Google Analytics" class="md-nav__link md-nav__link--active">
      Google Analytics
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-does-it-work" title="How does it work?" class="md-nav__link">
    How does it work?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-events-does-branch-send" title="What events does Branch send?" class="md-nav__link">
    What events does Branch send?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-does-it-look-like" title="What does it look like?" class="md-nav__link">
    What does it look like?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enter-your-google-analytics-tracking-id" title="Enter your Google Analytics Tracking ID" class="md-nav__link">
    Enter your Google Analytics Tracking ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-branch-dashboard" title="Configure the Branch Dashboard" class="md-nav__link">
    Configure the Branch Dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-up-google-analytics-to-use-standard-hardware-or-advertising-identifiers-recommended" title="Set up Google Analytics to use standard hardware or advertising identifiers (recommended)" class="md-nav__link">
    Set up Google Analytics to use standard hardware or advertising identifiers (recommended)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternative-approach-to-client-id-pass-to-branch-directly" title="Alternative approach to Client ID - pass to Branch directly" class="md-nav__link">
    Alternative approach to Client ID - pass to Branch directly
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced" title="Advanced" class="md-nav__link">
    Advanced
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-parameter-user-id" title="Optional Parameter - User ID" class="md-nav__link">
    Optional Parameter - User ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-branch-sends-to-google-analytics" title="What Branch Sends to Google Analytics" class="md-nav__link">
    What Branch Sends to Google Analytics
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#very-short-or-nonexistent-session-lengths" title="Very short or nonexistent session lengths" class="md-nav__link">
    Very short or nonexistent session lengths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-not-appearing-in-google-analytics" title="Data not appearing in Google Analytics" class="md-nav__link">
    Data not appearing in Google Analytics
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kochava/" title="Kochava" class="md-nav__link">
      Kochava
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../localytics/" title="Localytics" class="md-nav__link">
      Localytics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mixpanel/" title="Mixpanel" class="md-nav__link">
      Mixpanel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tune/" title="Tune" class="md-nav__link">
      Tune
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../appmetrica/" title="AppMetrica" class="md-nav__link">
      AppMetrica
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-does-it-work" title="How does it work?" class="md-nav__link">
    How does it work?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-events-does-branch-send" title="What events does Branch send?" class="md-nav__link">
    What events does Branch send?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-does-it-look-like" title="What does it look like?" class="md-nav__link">
    What does it look like?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enter-your-google-analytics-tracking-id" title="Enter your Google Analytics Tracking ID" class="md-nav__link">
    Enter your Google Analytics Tracking ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-branch-dashboard" title="Configure the Branch Dashboard" class="md-nav__link">
    Configure the Branch Dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-up-google-analytics-to-use-standard-hardware-or-advertising-identifiers-recommended" title="Set up Google Analytics to use standard hardware or advertising identifiers (recommended)" class="md-nav__link">
    Set up Google Analytics to use standard hardware or advertising identifiers (recommended)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternative-approach-to-client-id-pass-to-branch-directly" title="Alternative approach to Client ID - pass to Branch directly" class="md-nav__link">
    Alternative approach to Client ID - pass to Branch directly
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced" title="Advanced" class="md-nav__link">
    Advanced
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-parameter-user-id" title="Optional Parameter - User ID" class="md-nav__link">
    Optional Parameter - User ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-branch-sends-to-google-analytics" title="What Branch Sends to Google Analytics" class="md-nav__link">
    What Branch Sends to Google Analytics
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#very-short-or-nonexistent-session-lengths" title="Very short or nonexistent session lengths" class="md-nav__link">
    Very short or nonexistent session lengths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-not-appearing-in-google-analytics" title="Data not appearing in Google Analytics" class="md-nav__link">
    Data not appearing in Google Analytics
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/branchmetrics/docs/edit/master/src/pages/integrations/google-analytics.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                  <h1>Google Analytics</h1>
                
                <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>With a push of a button you can send your Branch data to your Google Analytics dashboard, helping you understand the power of Branch as an acquisition pathway. If you're interested in the segment of users coming into your apps through Branch and want to measure their events against your other cohorts, this guide can help.</p>
<h3 id="how-does-it-work">How does it work?<a class="headerlink" href="#how-does-it-work" title="Permanent link">&para;</a></h3>
<p>Once the Branch SDK is integrated into an app, Branch can detect which links are leading to installs, re-opens, and users' actions. Enabling this integration and providing your Google Analytics Tracking Id will result in Branch automatically forwarding referred events to Google Analytics, in the exact format Google Analytics expects. This includes automatically setting various UTM tags that can be used to determine the source of new users.</p>
<h3 id="what-events-does-branch-send">What events does Branch send?<a class="headerlink" href="#what-events-does-branch-send" title="Permanent link">&para;</a></h3>
<p>Branch will send <em>referred</em> <strong>installs</strong> and <strong>opens</strong>, as well as any <strong>custom events</strong> you track with Branch. Non-referred events, clicks, web session starts, and pageviews will be excluded. Branch also sends over analytics data that is attached to the link, whether it's UTM tags or fields set on the Branch Dashboard (e.g. Campaign, Channel, Feature). This will allow you to analyze which campaigns, channels, etc. are helping you acquire and engage users. You can see the list of fields that we send to Google Analytics <a href="#what-branch-sends-to-google-analytics">here</a>.</p>
<h3 id="what-does-it-look-like">What does it look like?<a class="headerlink" href="#what-does-it-look-like" title="Permanent link">&para;</a></h3>
<p>Branch events will appear alongside your other tracked events in Google Analytics. Here is an example of the Sources screen with test information set.</p>
<p><img alt="image" src="../../../img/pages/integrations/google-analytics/google-analytics-sources.png" /></p>
<p>To view referred <strong>installs</strong> and <strong>opens</strong>, as well as any custom events you track with Branch as they are occur, navigate to Real-Time &gt; Events. The event category for all referred Branch events is <strong>BranchEvent</strong>.</p>
<p><img alt="image" src="../../../img/pages/integrations/google-analytics/google-analytics-open.png" /></p>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Prerequisite</p>
<p>This guide requires you to have already <a href="../{{base.url}}/getting-started/sdk-integration-guide">integrated the Branch SDK</a> and the Google Analytics SDK into your app.</p>
</div>
<h3 id="enter-your-google-analytics-tracking-id">Enter your Google Analytics Tracking ID<a class="headerlink" href="#enter-your-google-analytics-tracking-id" title="Permanent link">&para;</a></h3>
<p>For the basic, codeless integration: find your Google Analytics Tracking ID (tid) and enter it into the Branch Dashboard.</p>
<ol>
<li>To locate your Google Analytics Tracking ID, navigate to <a href="https://analytics.google.com">https://analytics.google.com</a> and log in.</li>
<li>Click on <strong>Home</strong> in the navigation bar at the top of the page. You should see your app(s), with accompanying Tracking ID.</li>
<li>Copy the Tracking ID of whichever app you’re going to use with Branch. This is also known as the Property ID, and it is of the form UA-XXXXXX-YY (e.g. UA-000000-01). Here’s an example: <img alt="image" src="../../../img/pages/integrations/google-analytics/tid.png" /></li>
</ol>
<h3 id="configure-the-branch-dashboard">Configure the Branch Dashboard<a class="headerlink" href="#configure-the-branch-dashboard" title="Permanent link">&para;</a></h3>
<ol>
<li>On the Branch Dashboard (dashboard.branch.io), navigate to the <a href="https://dashboard.branch.io/integrations">Integrations page</a>.</li>
<li>Locate Google Analytics and choose <strong>Enable</strong>.</li>
<li>If you have not yet entered billing information, please do so now.</li>
<li>Enter your Google Analytics Tracking ID and hit <strong>Save</strong></li>
</ol>
<p><img alt="image" src="../../../img/pages/integrations/google-analytics/enable-google-analytics-integration.png" /></p>
<div class="admonition warning">
<p class="admonition-title">Please test your integration!</p>
<p>Branch is not responsible for inaccurate API keys.</p>
</div>
<h3 id="set-up-google-analytics-to-use-standard-hardware-or-advertising-identifiers-recommended">Set up Google Analytics to use standard hardware or advertising identifiers (recommended)<a class="headerlink" href="#set-up-google-analytics-to-use-standard-hardware-or-advertising-identifiers-recommended" title="Permanent link">&para;</a></h3>
<p>Please ensure you're using the Branch iOS SDK 0.12.2 or greater, and Android SDK v1.12.1 or greater. If you implemented Branch after May 28th 2016, you are likely already on this version or later.</p>
<p>In addition to the basic integration, you should add a tiny amount of code to your app. This will ensure that Google Analytics uses the correct device-specific identifier for client ID (cid) with the logic Branch uses. As a result, the CIDs for SDK and integration should match up and result in unified user data on the GA Dashboard.</p>
<p><strong>iOS:</strong></p>
<p>On iOS, please add the following when tracking events, screen views, etc. It will ensure that the GA SDK uses the IDFA when available, and uses the IDFV if not.</p>
<p>Please add the following to your Google Analytics code when the app first starts</p>
<div class="codehilite"><pre><span></span><span class="cp">#import &lt;AdSupport/AdSupport.h&gt;</span>

<span class="c1">// before tracking screen, event, etc.</span>
<span class="kt">Class</span> <span class="n">ASIdentifierManagerClass</span> <span class="o">=</span> <span class="n">NSClassFromString</span><span class="p">(</span><span class="s">@&quot;ASIdentifierManager&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">ASIdentifierManagerClass</span> <span class="o">&amp;&amp;</span> <span class="p">[[</span><span class="bp">ASIdentifierManager</span> <span class="n">sharedManager</span><span class="p">]</span> <span class="n">isAdvertisingTrackingEnabled</span><span class="p">])</span> <span class="p">{</span>
    <span class="bp">NSUUID</span> <span class="o">*</span><span class="n">idfa</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">ASIdentifierManager</span> <span class="n">sharedManager</span><span class="p">]</span> <span class="n">advertisingIdentifier</span><span class="p">];</span>
    <span class="p">[</span><span class="n">tracker</span> <span class="nl">set</span><span class="p">:</span><span class="n">kGAIClientId</span> <span class="nl">value</span><span class="p">:[</span><span class="n">idfa</span> <span class="n">UUIDString</span><span class="p">]];</span>
<span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">NSClassFromString</span><span class="p">(</span><span class="s">@&quot;UIDevice&quot;</span><span class="p">))</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">tracker</span> <span class="nl">set</span><span class="p">:</span><span class="n">kGAIClientId</span> <span class="nl">value</span><span class="p">:[[</span><span class="bp">UIDevice</span> <span class="n">currentDevice</span><span class="p">].</span><span class="n">identifierForVendor</span> <span class="n">UUIDString</span><span class="p">]];</span>
<span class="p">}</span>
</pre></div>

<p>In order for IDFA to be available, please be sure you have included <code>AdSupport.framework</code>.</p>
<div class="admonition protip">
<p class="admonition-title">iOS 10 and Ad Tracking Limited</p>
<p>If ad tracking is limited, the IDFA will be set to "00000000-0000-0000-0000-000000000000" <a href="https://developer.apple.com/reference/adsupport/asidentifiermanager">documentation</a>. The alternative approach below allows you to specify a <code>cid</code> manually, which avoids this issue.</p>
</div>
<p><strong>Android:</strong></p>
<p>On Android, please add the following when tracking events, screen views, etc. It will ensure that the GA SDK uses the GAID when available, and uses the Android ID (hardware ID) if not.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Enable Advertising Features.</span>
<span class="n">mTracker</span><span class="o">.</span><span class="na">enableAdvertisingIdCollection</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</pre></div>

<h3 id="alternative-approach-to-client-id-pass-to-branch-directly">Alternative approach to Client ID - pass to Branch directly<a class="headerlink" href="#alternative-approach-to-client-id-pass-to-branch-directly" title="Permanent link">&para;</a></h3>
<p>If you specify <code>$google_analytics_client_id</code>, we can pass that to Google (as <em>cid</em>).</p>
<p><strong>iOS:</strong></p>
<p>Please add the following before initializing the Branch session:</p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">setRequestMetadataKey</span><span class="p">:</span><span class="s">@&quot;$google_analytics_client_id&quot;</span> <span class="nl">value</span><span class="p">:</span><span class="s">@&quot;CLIENT-ID-HERE&quot;</span><span class="p">];</span>
</pre></div>

<p><strong>Android:</strong></p>
<p>Please call the following line right after you initialize Branch in your Application’s #onCreate or Activity’s #onCreate:</p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">setRequestMetadata</span><span class="o">(</span><span class="s">&quot;$google_analytics_client_id&quot;</span><span class="o">,</span> <span class="s">&quot;CLIENT-ID-HERE&quot;</span><span class="o">);</span>
</pre></div>

<h2 id="advanced">Advanced<a class="headerlink" href="#advanced" title="Permanent link">&para;</a></h2>
<h3 id="optional-parameter-user-id">Optional Parameter - User ID<a class="headerlink" href="#optional-parameter-user-id" title="Permanent link">&para;</a></h3>
<p>If you specify <code>$google_analytics_user_id</code>, we can pass that to Google (as <code>uid</code>).</p>
<p><strong>iOS:</strong></p>
<p>You can add the following before initializing the Branch session:</p>
<div class="codehilite"><pre><span></span><span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">setRequestMetadataKey</span><span class="p">:</span><span class="s">@&quot;$google_analytics_user_id&quot;</span> <span class="nl">value</span><span class="p">:</span><span class="s">@&quot;USER-ID-HERE&quot;</span><span class="p">];</span>
</pre></div>

<p><strong>Android:</strong></p>
<p>You can call the following line right after you initialize Branch in your Application’s #onCreate or Activity’s #onCreate:</p>
<div class="codehilite"><pre><span></span><span class="n">Branch</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">setRequestMetadata</span><span class="o">(</span><span class="s">&quot;$google_analytics_user_id&quot;</span><span class="o">,</span> <span class="s">&quot;USER-ID-HERE&quot;</span><span class="o">);</span>
</pre></div>

<h3 id="what-branch-sends-to-google-analytics">What Branch Sends to Google Analytics<a class="headerlink" href="#what-branch-sends-to-google-analytics" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Value</th>
<th>Sourced from</th>
<th>Example</th>
<th>Req</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>v</td>
<td>API version</td>
<td>[fixed]</td>
<td>1</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>tid</td>
<td>Tracking ID</td>
<td>Branch Dashboard</td>
<td>UA-XXXXXX-Y</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>ds</td>
<td>Source (mobile SDK)</td>
<td>[fixed]</td>
<td>app</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>an</td>
<td>Application Name</td>
<td>[fixed]</td>
<td>BRANCH-APP</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>t</td>
<td>Type</td>
<td>[fixed]</td>
<td>event</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>ec</td>
<td>Event Category</td>
<td>[fixed]</td>
<td>BranchEvent</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>Client ID</td>
<td>(discussed above, includes $google_analytics_client_id)</td>
<td>AEBE52E7-03EE-455A-B3C4-E57283966239</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>User Id</td>
<td>$google_analytics_user_id</td>
<td>User A</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>cn</td>
<td>Campaign Name</td>
<td>utm_campaign -or- Branch campaign</td>
<td>"Beaches and breezes"</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>cs</td>
<td>Campaign Source</td>
<td>utm_source -or- Branch channel</td>
<td>"Twitter"</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>cm</td>
<td>Campaign Medium</td>
<td>utm_medium -or- Branch feature</td>
<td>"480banner"</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>ck</td>
<td>Campaign Keywords</td>
<td>utm_term -or- Branch $keywords</td>
<td>["Keyword1", "keyword3"]</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>cc</td>
<td>Campaign Content</td>
<td>utm_content -or- Branch tags</td>
<td>"Some content"</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>ea</td>
<td>Event Action (Name)</td>
<td>event name</td>
<td>install</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>uip</td>
<td>User’s IP Address</td>
<td>collected by Branch SDK</td>
<td>111.111.111.111</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>z</td>
<td>Cache buster</td>
<td>[unix time + random number]</td>
<td>1461878903666</td>
<td>N</td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition protip">
<p class="admonition-title">anonymous</p>
</div>
<p>Client ID"
    If for some reason Branch does not receive an advertising identifier or hardware identifier, and you do not explicitly specify a <code>$google_analytics_client_id</code>, then Branch will send <code>anonymous</code> as the Client ID (<code>cid</code>). This is a required field by Google Analytics.</p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="very-short-or-nonexistent-session-lengths">Very short or nonexistent session lengths<a class="headerlink" href="#very-short-or-nonexistent-session-lengths" title="Permanent link">&para;</a></h3>
<p>Google Analytics will automatically start a session when Branch sends over installs and opens. Because of this, you should remove any code that creates a new session when your application starts up. For example, on iOS, you may be firing an event with the following:</p>
<div class="codehilite"><pre><span></span><span class="p">[</span><span class="n">builder</span> <span class="nl">set</span><span class="p">:</span><span class="s">@&quot;start&quot;</span> <span class="nl">forKey</span><span class="p">:</span><span class="n">kGAISessionControl</span><span class="p">];</span>
</pre></div>

<p>You should remove this so that your app does not start a new session. Otherwise you may see zero second sessions and your average session length drop.</p>
<h3 id="data-not-appearing-in-google-analytics">Data not appearing in Google Analytics<a class="headerlink" href="#data-not-appearing-in-google-analytics" title="Permanent link">&para;</a></h3>
<ol>
<li>Check your property ID in the Branch dashboard matches the property ID in Google Analytics</li>
<li>Ensure you are looking at the right part of the Google Analytics dashboard. The data should appear in <code>Acquisition &gt; Sources &gt; All</code></li>
<li>Check that your Google Analytics Views don't have any filters on them. For example, if your View filters out users in the United Kingdom, and your Branch opens are from users in the United Kingdom, you won't see this Branch data in your View.</li>
</ol>
                
                  
                
              
              
                
                  <h2 id="__comments">Comments</h2>
                  <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = "https://branchmetrics.github.io/docs/pages/integrations/google-analytics/";
    this.page.identifier =
      "/pages/integrations/google-analytics/";
  };
  (function() {
    var d = document, s = d.createElement("script");
    s.src = "//branch-docs.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
                
              
            </article>
          </div>
        </div>
      </main>
      
        <div class="modals">
          <div id="modal-search" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content" id="algolia-search-container">
              <i class="material-icons modal-close right">close</i>
              <h2>Search</h2>
              <input type="text" placeholder="search docs..." id="algolia-doc-search" autofocus>
            </div>
          </div>
          <div id="modal-unhelpful" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Unhelpful?</h2>
              <p>How can we improve or assist you?</p>
              <a href="#" class="improve-doc" title="Improve This Doc">Improve this doc</a>
              <a href="#" class="contact-support" title="Contact support">Contact support</a>
            </div>
          </div>
          <div id="modal-choose-app" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Choose your app</h2>
              <button type="button">iOS</button>
              <button type="button">Android</button>
              <button type="button">Cordova Ionic PhoneGap</button>
              <button type="button">React Native</button>
            </div>
          </div>
          <div id="modal-helpful" class="modal notification">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Thank you</h2>
            </div>
          </div>
          <div id="modal-image" class="modal dialog image">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Image</h2>
              <a id="modal-image-link" href="#">
                <img id="modal-image-img">
              </a>
            </div>
          </div>
        </div>
      
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../appsflyer/" title="Appsflyer" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Appsflyer
              </span>
            </div>
          </a>
        
        
          <a href="../kochava/" title="Kochava" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Kochava
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 <a href="https://branch.io">Branch</a>
          </div>
        
        All rights reserved
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://branch.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/BranchMetrics/Documentation" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/branchmetrics" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/branchmetrics" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.linkedin.com/company-beta/3813083" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application-68a35578af.js"></script>
      
      
      <script>app.initialize({url:{base:"../../.."}})</script>
      
        <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
        <script>docsearch({apiKey:"887017d17a2c1e9490ad2c44caa7e817",indexName:"branchmetrics",inputSelector:"#algolia-doc-search",debug:"True",algoliaOptions:{hitsPerPage:"15"}})</script>
      
      
        <script src="../../../js/main.js"></script>
      
    
    
      
    
  </body>
</html>