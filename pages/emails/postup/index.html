
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Branch documentation for mobile deep linking">
      
      
        <link rel="canonical" href="https://docs.branch.io/pages/emails/postup/">
      
      
        <meta name="author" content="Branch">
      
      
        <link rel="shortcut icon" href="../../../img/favicon-96x96.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.1">
    
    
      
        <title>PostUp - Branch documentation</title>
      
    
    
      <script src="../../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <style>.async-hide{opacity:0!important}</style>
      <script>!function(e,n,t,a,o,c,i,s,m){n.className+=" "+t,c.start=1*new Date,c.end=i=function(){n.className=n.className.replace(RegExp(" ?"+t),"")},(e[a]=e[a]||[]).hide=c,setTimeout(function(){i(),c.end=null},o),c.timeout=o}(window,document.documentElement,"async-hide","dataLayer",1e3,{"GTM-PCPBXCN":!0})</script>
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application-a20f419c8e.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../../css/main.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.branch.io" title="Branch documentation" class="md-header-nav__button md-logo">
          
            
              <img src="../../../img/logo.svg">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <a href="https://docs.branch.io" title="Branch documentation">
            <div class="branch-header-subtitle">&nbsp;|&nbsp;Docs</div>
          </a>
        </div>
      
      
        <div class="md-flex__cell md-flex__cell--stretch">
          <span class="md-flex__ellipsis md-header-nav__title">
            
              
                
                  <span class="md-header-nav__parent">
                    Links in your emails
                  </span>
                
              
              PostUp
            
          </span>
        </div>
      
      
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-helpful" id="header-helpful" title="Helpful">
            <i class="branch-header-icon md-icon material-icons">thumb_up</i>
            <p class="branch-header-label">Helpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-unhelpful" id="header-unhelpful" title="Unhelpful">
            <i class="branch-header-icon md-icon material-icons">thumb_down</i>
            <p class="branch-header-label">Unhelpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="improve-doc" title="Improve This Doc">
            <i class="branch-header-icon md-icon material-icons">mode_edit</i>
            <p class="branch-header-label">Improve</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="contact-support" title="Contact support">
            <i class="branch-header-icon md-icon material-icons">help_outline</i>
            <p class="branch-header-label">Support</p>
          </a>
        </div>
      
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <a href="#dialog-search" id="header-search" title="Search">
              <label class="md-icon md-icon--search md-header-nav__button"></label>
              
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      
        <i class="branch-header-search md-icon material-icons">search</i>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
            </a>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../../../img/logo.svg">
        
      
    </div>
    Branch documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/branchmetrics/docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Branch documentation
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../.." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

      
    
      
      
      
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic integration
          </li>
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../dashboard/integrate/" title="Configure your dashboard" class="md-nav__link">
      Configure your dashboard
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configure your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configure your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/adobe-air/" title="Adobe AIR" class="md-nav__link">
      Adobe AIR
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/cordova-phonegap-ionic/" title="Cordova PhoneGap Ionic" class="md-nav__link">
      Cordova PhoneGap Ionic
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/mparticle-android/" title="mParticle Android" class="md-nav__link">
      mParticle Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/mparticle-ios/" title="mParticle iOS" class="md-nav__link">
      mParticle iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/titanium/" title="Titanium" class="md-nav__link">
      Titanium
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/unity/" title="Unity" class="md-nav__link">
      Unity
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/xamarin/" title="Xamarin" class="md-nav__link">
      Xamarin
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

          
        
          
        
          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Configure your deep linking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Configure your deep linking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/universal-links/" title="iOS Universal Links" class="md-nav__link">
      iOS Universal Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/android-app-links/" title="Android App Links" class="md-nav__link">
      Android App Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linking/routing/" title="In-app deep link routing" class="md-nav__link">
      In-app deep link routing
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Launch your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Launch your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/ios-launch/" title="Apple App Store" class="md-nav__link">
      Apple App Store
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/android-launch/" title="Google Play" class="md-nav__link">
      Google Play
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../web/integrate/" title="Configure your website" class="md-nav__link">
      Configure your website
    </a>
  </li>

      
    
      
      
      
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic usage
          </li>
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../links/integrate/" title="Create deep links" class="md-nav__link">
      Create deep links
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../dashboard/analytics/" title="Track analytics" class="md-nav__link">
      Track analytics
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Advanced usage
          </li>
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Links on your website
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Links on your website
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/deep-views/" title="Deepviews" class="md-nav__link">
      Deepviews
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/journeys/" title="Journeys App Banners" class="md-nav__link">
      Journeys App Banners
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/amp-journeys/" title="AMP Journeys" class="md-nav__link">
      AMP Journeys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/text-me-the-app/" title="Text Me The App" class="md-nav__link">
      Text Me The App
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/hosted-data/" title="Hosted Deep Link Data" class="md-nav__link">
      Hosted Deep Link Data
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Links in your paid ads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Links in your paid ads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/dynamic-product-feeds/" title="Dynamic Product Feeds" class="md-nav__link">
      Dynamic Product Feeds
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/branch-universal-ads/" title="Branch Universal Ads" class="md-nav__link">
      Branch Universal Ads
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/apple/" title="Apple Search" class="md-nav__link">
      Apple Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/doubleclick/" title="Doubleclick" class="md-nav__link">
      Doubleclick
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-ads-overview/" title="Google" class="md-nav__link">
      Google
    </a>
  </li>

          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/facebook-ads-overview/" title="Facebook" class="md-nav__link">
      Facebook
    </a>
  </li>

          
        
          
        
          
        
          
        
          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/twitter/" title="Twitter" class="md-nav__link">
      Twitter
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" checked>
    
    <label class="md-nav__link" for="nav-11">
      Links in your emails
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Links in your emails
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../appboy/" title="Appboy" class="md-nav__link">
      Appboy
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../blueshift/" title="Blueshift" class="md-nav__link">
      Blueshift
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../bronto/" title="Bronto" class="md-nav__link">
      Bronto
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../epsilon/" title="Epsilon" class="md-nav__link">
      Epsilon
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../kahuna/" title="Kahuna" class="md-nav__link">
      Kahuna
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../leanplum/" title="Leanplum" class="md-nav__link">
      Leanplum
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../mailgun/" title="Mailgun" class="md-nav__link">
      Mailgun
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../mailjet/" title="Mailjet" class="md-nav__link">
      Mailjet
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../mandrill/" title="Mandrill" class="md-nav__link">
      Mandrill
    </a>
  </li>

          
        
          
            
            
            

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        PostUp
      </label>
    
    <a href="./" title="PostUp" class="md-nav__link md-nav__link--active">
      PostUp
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choose-your-email-service-provider" title="Choose your email service provider" class="md-nav__link">
    Choose your email service provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-up-deep-linking-for-email" title="Set up deep linking for email" class="md-nav__link">
    Set up deep linking for email
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#email-link-behavior" title="Email link behavior" class="md-nav__link">
    Email link behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-your-deep-linking-setup" title="Checking your deep linking setup" class="md-nav__link">
    Checking your deep linking setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#we-couldnt-determine-your-deep-linking-setup" title="We couldn't determine your deep linking setup" class="md-nav__link">
    We couldn't determine your deep linking setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-linking-settings-for-email" title="Deep linking settings for email" class="md-nav__link">
    Deep linking settings for email
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#link-behavior" title="Link Behavior" class="md-nav__link">
    Link Behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#link-behavior-for-users-without-your-app" title="Link behavior for users without your app" class="md-nav__link">
    Link behavior for users without your app
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-your-esp" title="Configure your ESP" class="md-nav__link">
    Configure your ESP
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tell-us-your-click-tracking-domain" title="Tell us your click tracking domain" class="md-nav__link">
    Tell us your click tracking domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-your-app-for-your-click-tracking-domain" title="Configure your app for your click tracking domain" class="md-nav__link">
    Configure your app for your click tracking domain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-setup" title="Technical setup" class="md-nav__link">
    Technical setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-up-your-click-tracking-domain" title="Set up your click tracking domain" class="md-nav__link">
    Set up your click tracking domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-your-click-tracking-domain-to-your-associated-domains" title="Add your click tracking domain to your Associated Domains" class="md-nav__link">
    Add your click tracking domain to your Associated Domains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-links-for-web-only-content" title="Handle links for web-only content" class="md-nav__link">
    Handle links for web-only content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-and-test" title="Validate and test" class="md-nav__link">
    Validate and test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options-for-generating-branch-links-for-email" title="Options for generating Branch links for email" class="md-nav__link">
    Options for generating Branch links for email
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#making-regular-branch-links-compatible-with-email" title="Making regular Branch links compatible with email" class="md-nav__link">
    Making regular Branch links compatible with email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-email-links-via-api-without-changing-your-email-templates" title="Create email links via API without changing your email templates" class="md-nav__link">
    Create email links via API without changing your email templates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convert-all-web-links-in-your-email-to-deep-links" title="Convert all web links in your email to deep links" class="md-nav__link">
    Convert all web links in your email to deep links
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flag-your-web-only-links" title="Flag your web-only links" class="md-nav__link">
    Flag your web-only links
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#support" title="Support" class="md-nav__link">
    Support
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-does-link-creation-work" title="How does link creation work?" class="md-nav__link">
    How does link creation work?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#three-stages-of-a-link" title="Three stages of a link" class="md-nav__link">
    Three stages of a link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redirect-behavior-and-tracking" title="Redirect behavior and tracking" class="md-nav__link">
    Redirect behavior and tracking
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#universal-links-and-click-tracking" title="Universal links and click tracking" class="md-nav__link">
    Universal links and click tracking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-linking-setup-messages" title="Deep linking setup messages" class="md-nav__link">
    Deep linking setup messages
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#we-think-you-use-your-web-url-for-deep-linking" title="We think you use your web URL for deep linking" class="md-nav__link">
    We think you use your web URL for deep linking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#we-think-you-host-your-deep-link-data-on-your-website" title="We think you host your deep link data on your website" class="md-nav__link">
    We think you host your deep link data on your website
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#we-couldnt-determine-your-deep-linking-setup-from-your-web-url" title="We couldn't determine your deep linking setup from your web URL" class="md-nav__link">
    We couldn't determine your deep linking setup from your web URL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-your-link" title="Test your link" class="md-nav__link">
    Test your link
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../responsys/" title="Responsys" class="md-nav__link">
      Responsys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../sailthru/" title="Sailthru" class="md-nav__link">
      Sailthru
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../salesforce/" title="Salesforce" class="md-nav__link">
      Salesforce
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../sendgrid/" title="SendGrid" class="md-nav__link">
      SendGrid
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../sparkpost/" title="SparkPost" class="md-nav__link">
      SparkPost
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../vero/" title="Vero" class="md-nav__link">
      Vero
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../zeta/" title="Zeta" class="md-nav__link">
      Zeta
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../self-serve/" title="Self Serve" class="md-nav__link">
      Self Serve
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Links in push notifications
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Links in push notifications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../push/generic-push/" title="Generic push support" class="md-nav__link">
      Generic push support
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Links in organic search
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Links in organic search
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/firebase/" title="Firebase App Indexing" class="md-nav__link">
      Firebase App Indexing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/spotlight/" title="Spotlight Search" class="md-nav__link">
      Spotlight Search
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Links for viral & referral
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Links for viral & referral
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/content-sharing/" title="Content sharing" class="md-nav__link">
      Content sharing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/referrals/" title="Referral programs" class="md-nav__link">
      Referral programs
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/facebook-app-invites/" title="Facebook App Invites" class="md-nav__link">
      Facebook App Invites
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Links in new app platforms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Links in new app platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/android-instant-apps/" title="Android Instant Apps" class="md-nav__link">
      Android Instant Apps
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/imessage-apps/" title="iMessage Apps" class="md-nav__link">
      iMessage Apps
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Export Branch data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Export Branch data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/api/" title="Export API" class="md-nav__link">
      Export API
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/webhooks/" title="Webhooks" class="md-nav__link">
      Webhooks
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-17" type="checkbox" id="nav-17">
    
    <label class="md-nav__link" for="nav-17">
      Send data to other tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-17">
        Send data to other tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adobe-analytics/" title="Abobe Analytics" class="md-nav__link">
      Abobe Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adjust/" title="Adjust" class="md-nav__link">
      Adjust
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/amplitude/" title="Amplitude" class="md-nav__link">
      Amplitude
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appmetrica/" title="AppMetrica" class="md-nav__link">
      AppMetrica
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appboy/" title="Appboy" class="md-nav__link">
      Appboy
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appsflyer/" title="Appsflyer" class="md-nav__link">
      Appsflyer
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/fabric-answers/" title="Fabric Answers" class="md-nav__link">
      Fabric Answers
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/google-analytics/" title="Google Analytics" class="md-nav__link">
      Google Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/kochava/" title="Kochava" class="md-nav__link">
      Kochava
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/localytics/" title="Localytics" class="md-nav__link">
      Localytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/mixpanel/" title="Mixpanel" class="md-nav__link">
      Mixpanel
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/tune/" title="Tune" class="md-nav__link">
      Tune
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Resources
          </li>
        
      
      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/matching/" title="Branch Matching Overview" class="md-nav__link">
      Branch Matching Overview
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/validation-tools/" title="Validation Tools" class="md-nav__link">
      Validation Tools
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/case-studies/" title="Case Studies and Infographics" class="md-nav__link">
      Case Studies and Infographics
    </a>
  </li>

      
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choose-your-email-service-provider" title="Choose your email service provider" class="md-nav__link">
    Choose your email service provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-up-deep-linking-for-email" title="Set up deep linking for email" class="md-nav__link">
    Set up deep linking for email
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#email-link-behavior" title="Email link behavior" class="md-nav__link">
    Email link behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-your-deep-linking-setup" title="Checking your deep linking setup" class="md-nav__link">
    Checking your deep linking setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#we-couldnt-determine-your-deep-linking-setup" title="We couldn't determine your deep linking setup" class="md-nav__link">
    We couldn't determine your deep linking setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-linking-settings-for-email" title="Deep linking settings for email" class="md-nav__link">
    Deep linking settings for email
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#link-behavior" title="Link Behavior" class="md-nav__link">
    Link Behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#link-behavior-for-users-without-your-app" title="Link behavior for users without your app" class="md-nav__link">
    Link behavior for users without your app
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-your-esp" title="Configure your ESP" class="md-nav__link">
    Configure your ESP
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tell-us-your-click-tracking-domain" title="Tell us your click tracking domain" class="md-nav__link">
    Tell us your click tracking domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-your-app-for-your-click-tracking-domain" title="Configure your app for your click tracking domain" class="md-nav__link">
    Configure your app for your click tracking domain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-setup" title="Technical setup" class="md-nav__link">
    Technical setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-up-your-click-tracking-domain" title="Set up your click tracking domain" class="md-nav__link">
    Set up your click tracking domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-your-click-tracking-domain-to-your-associated-domains" title="Add your click tracking domain to your Associated Domains" class="md-nav__link">
    Add your click tracking domain to your Associated Domains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handle-links-for-web-only-content" title="Handle links for web-only content" class="md-nav__link">
    Handle links for web-only content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-and-test" title="Validate and test" class="md-nav__link">
    Validate and test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options-for-generating-branch-links-for-email" title="Options for generating Branch links for email" class="md-nav__link">
    Options for generating Branch links for email
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#making-regular-branch-links-compatible-with-email" title="Making regular Branch links compatible with email" class="md-nav__link">
    Making regular Branch links compatible with email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-email-links-via-api-without-changing-your-email-templates" title="Create email links via API without changing your email templates" class="md-nav__link">
    Create email links via API without changing your email templates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convert-all-web-links-in-your-email-to-deep-links" title="Convert all web links in your email to deep links" class="md-nav__link">
    Convert all web links in your email to deep links
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flag-your-web-only-links" title="Flag your web-only links" class="md-nav__link">
    Flag your web-only links
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#support" title="Support" class="md-nav__link">
    Support
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-does-link-creation-work" title="How does link creation work?" class="md-nav__link">
    How does link creation work?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#three-stages-of-a-link" title="Three stages of a link" class="md-nav__link">
    Three stages of a link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redirect-behavior-and-tracking" title="Redirect behavior and tracking" class="md-nav__link">
    Redirect behavior and tracking
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#universal-links-and-click-tracking" title="Universal links and click tracking" class="md-nav__link">
    Universal links and click tracking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-linking-setup-messages" title="Deep linking setup messages" class="md-nav__link">
    Deep linking setup messages
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#we-think-you-use-your-web-url-for-deep-linking" title="We think you use your web URL for deep linking" class="md-nav__link">
    We think you use your web URL for deep linking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#we-think-you-host-your-deep-link-data-on-your-website" title="We think you host your deep link data on your website" class="md-nav__link">
    We think you host your deep link data on your website
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#we-couldnt-determine-your-deep-linking-setup-from-your-web-url" title="We couldn't determine your deep linking setup from your web URL" class="md-nav__link">
    We couldn't determine your deep linking setup from your web URL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-your-link" title="Test your link" class="md-nav__link">
    Test your link
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/branchmetrics/docs/edit/master/src/pages/emails/postup.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>PostUp</h1>
                
                <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Deep Linked Email allows you to automatically convert your email links into multi-platform deep links that take users directly to content in the app on mobile devices, while still maintaining the same web experience for desktop and mobile users without the app.</p>
<p><img alt="image" src="../../../img/pages/email/responsys/deep-linked-email.png" /></p>
<p>With a script provided by Branch, you can dynamically create Branch links in email. In any place the script is called, the web URL is converted into its corresponding Branch link. The email is then sent.</p>
<p>When a link is clicked by a user without the app, it will route that user to the original web URL (including on desktop). When a link is clicked by a user with your app, it will direct that user into the relevant in-app content regardless of platform or email client.</p>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h2>
<h3 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h3>
<ul>
<li>This guide requires you to have already integrated the Branch SDK into your app.</li>
</ul>
<p>Contact your Branch Account Manager or <a href="mailto:accounts@branch.io"><a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#99;&#99;&#111;&#117;&#110;&#116;&#115;&#64;&#98;&#114;&#97;&#110;&#99;&#104;&#46;&#105;&#111;">&#97;&#99;&#99;&#111;&#117;&#110;&#116;&#115;&#64;&#98;&#114;&#97;&#110;&#99;&#104;&#46;&#105;&#111;</a></a> at any time for assistance with the setup steps.</p>
<h3 id="choose-your-email-service-provider">Choose your email service provider<a class="headerlink" href="#choose-your-email-service-provider" title="Permanent link">&para;</a></h3>
<p>Navigate to the <a href="https://dashboard.branch.io/email" target="_blank">Deep Linked Email</a> section of the Branch dashboard. Select {{page.title}} as your email service provider and click <strong>Get Started</strong>.</p>
<p><img alt="image" src="../../../img/pages/email/choose-esp.png" /></p>
<h3 id="set-up-deep-linking-for-email">Set up deep linking for email<a class="headerlink" href="#set-up-deep-linking-for-email" title="Permanent link">&para;</a></h3>
<h4 id="email-link-behavior">Email link behavior<a class="headerlink" href="#email-link-behavior" title="Permanent link">&para;</a></h4>
<p>Branch turns the web URLs you put into your emails into Branch deep links, opening the app for users with your app installed to that same content in the app.</p>
<p><img alt="image" src="../../../img/pages/email/users-with-app.png" /></p>
<p>To do this, it must be possible to map your web URL content (e.g. a page with brown loafers at <code>https://shop.com/shoes/brown-loafers</code>) into a working deep link that takes users to brown loafers in the app. The Deep Linked Email <a href="https://dashboard.branch.io/email" target="_blank">setup flow</a> will attempt to automatically detect this mapping for you.</p>
<p>If you do not want to set this up yet, you can select <strong>No, just open to app homepage for now</strong>.</p>
<p><img alt="image" src="../../../img/pages/email/app-homepage.png" /></p>
<p>By default, email deep links will redirect users <em>without your app</em> to the same content on the web instead.</p>
<p><img alt="image" src="../../../img/pages/email/users-without-app.png" /></p>
<p>If you would like to send users to the App Store or another default you have specified in Link Settings, you can select <strong>Open to default redirects</strong>.</p>
<p><img alt="image" src="../../../img/pages/email/default-redirects.png" /></p>
<h4 id="checking-your-deep-linking-setup">Checking your deep linking setup<a class="headerlink" href="#checking-your-deep-linking-setup" title="Permanent link">&para;</a></h4>
<p>If you chose <strong>not</strong> to set up deep linking to specific content within your app, then you can <a href="#configure-your-esp">skip this step</a>.</p>
<p><img alt="image" src="../../../img/pages/email/responsys/enter-web-url.png" /></p>
<p>In this step, you will want to enter a web URL that corresponds to a specific screen within your app. In other words, the webpage should have content that also exists in your app. If you do not know whether your web content also exists in-app, try any URL other than your website homepage. Some examples:</p>
<ul>
<li>A product page, like a page with brown loafers</li>
<li>An article</li>
<li>A content page, like a video or image</li>
</ul>
<p>Once you choose one and click <strong>Submit</strong>, <a href="../../../pages/web/hosted-data/">meta tags that can be used for deep linking</a> will be retrieved from your webpage. You will see a result indicating the mapping between your web content and your app content. For a full explanation of the tests run on this page and the possible results, check out the <a href="#deep-linking-setup-messages">support section</a>.</p>
<h4 id="we-couldnt-determine-your-deep-linking-setup">We couldn't determine your deep linking setup<a class="headerlink" href="#we-couldnt-determine-your-deep-linking-setup" title="Permanent link">&para;</a></h4>
<p>If an app deep linking scheme that maps to your web content cannot be successfully detected, you can <a href="#deep-linking-settings-for-email">configure your settings manually</a>, or you can reach out to your Branch account manager or support for assistance.</p>
<p><img alt="image" src="../../../img/pages/email/failure-result.png" /></p>
<p>We will help you set up one of the following methods:</p>
<p>If you use unique key/value data as deep link values:</p>
<ol>
<li><em>Recommended:</em> <strong>Hosted deep link data:</strong> You can host your deep link data on your website with a metatag that looks like this <code>&lt;meta name="branch:deeplink:my_key" content="my_value" /&gt;</code> where <code>my_key</code> and <code>my_value</code> will become a key value pair in deep link data. For each web URL, Branch will look for those tags and embed the deep link data (if found) into the deep link. Note that Branch also accepts App Links tags for deep linking. For more details, please read <a href="../../../getting-started/hosted-deep-link-data/guide/">Hosted Deep Link Data</a>.</li>
<li><strong>As query parameters:</strong> Simply append query parameters on to your web url and Branch will take those parameters and put them in deep link data.</li>
</ol>
<p>If you use your web URL as a deep link value:</p>
<ol>
<li><strong>URL path:</strong> If you use the path of your web URL as your  <code>$deeplink_path</code> value, or any other deep link value, then the configuration will automatically take the path of the URL and put it in deep link data.</li>
<li><strong>Full URL:</strong> If you use the full web URL as your <code>$deeplink_path</code> value, or any other deep link value, then the configuration will take the entire URL and put it in deep link data.</li>
</ol>
<div class="admonition protip">
<p class="admonition-title">Host deep link data for more than just emails</p>
<p>The Branch <a href="../../../getting-started/creating-links/dashboard/">Quick Link creator</a> also scrapes your web URL for deep link data to make link creation even easier. <a href="../../../getting-started/hosted-deep-link-data/guide/">Hosting Deep Link Data</a> on your website will make using Branch products easier in future.</p>
</div>
<p>In the meantime, you can proceed to the next step: <strong><a href="#configure-your-esp">Configure ESP</a></strong>.</p>
<h4 id="deep-linking-settings-for-email">Deep linking settings for email<a class="headerlink" href="#deep-linking-settings-for-email" title="Permanent link">&para;</a></h4>
<p>The following are all the possible settings you can configure for deep linking with email.</p>
<h5 id="link-behavior">Link Behavior<a class="headerlink" href="#link-behavior" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Example</th>
<th>Link Data Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Open the app homepage</strong></td>
<td>No settings configured to generate deep link data for email; email links will route to the app homepage.</td>
<td></td>
</tr>
<tr>
<td><strong>Open to specific app content</strong></td>
<td>Deep link to specific app content based on one or more of the following settings.</td>
<td></td>
</tr>
<tr>
<td>Translate query parameters on URLs into Branch link data</td>
<td><strong>URL:</strong> <code>https://shop.com/shoes/brown-loafers&amp;product_id=123456</code></td>
<td><code>product_id: 123456</code></td>
</tr>
<tr>
<td>Translate web URL into Branch link data: <br> Full URL for key ______</td>
<td><strong>URL:</strong> <code>https://shop.com/shoes/brown-loafers</code> <br> <strong>Key:</strong> <code>$canonical_url</code></td>
<td><code>$canonical_url: https://shop.com/shoes/brown-loafers</code></td>
</tr>
<tr>
<td>Translate web URL into Branch link data: <br> URL path for key ______</td>
<td><strong>URL:</strong> <code>https://shop.com/shoes/brown-loafers</code> <br> <strong>Key:</strong> <code>$deeplink_path</code></td>
<td><code>$deeplink_path: shoes/brown-loafers</code></td>
</tr>
<tr>
<td>Retrieve hosted deep link data from website and translate into Branch link data</td>
<td><strong>URL:</strong> <code>https://shop.com/shoes/brown-loafers</code> <br> <strong>Meta Tags:</strong> <code>&lt;meta name="branch:deeplink:product_id" content="123456" /&gt;</code></td>
<td><code>product_id: 123456</code></td>
</tr>
<tr>
<td>Strip protocol (http:// or https://): <br> from $deeplink_path <br> from $ios_deeplink_path <br> from $android_deeplink_path <br> <em>Note: Typically used with one of the other settings.</em></td>
<td><strong>URL:</strong> <code>https://shop.com/shoes/brown-loafers</code> <br> <strong>Other Settings:</strong> Translate web URL into Branch link data: Full URL for key <code>$deeplink_path</code></td>
<td><code>$deeplink_path: shop.com/shoes/brown-loafers</code></td>
</tr>
<tr>
<td>Translate query parameters on URLs into Branch link data from parameter ______ to key ______ <br> <em>Note: Not configurable in the UI. <a href="https://support.branch.io/support/tickets/new" target="_blank">Contact support</a> to use this setting.</em></td>
<td><strong>URL:</strong> <code>https://shop.com/shoes/brown-loafers&amp;product_id=123456&amp;utm_content=shoes</code> <br> <strong>Parameter:</strong> <code>utm_content</code> <br> <strong>Key:</strong> <code>category</code></td>
<td><code>category: shoes</code></td>
</tr>
</tbody>
</table>
<h5 id="link-behavior-for-users-without-your-app">Link behavior for users without your app<a class="headerlink" href="#link-behavior-for-users-without-your-app" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Open to specific web content</td>
<td>Route to the original URL specified in the email.</td>
</tr>
<tr>
<td>Open to default redirects</td>
<td>Route to defaults specified in <a href="https://dashboard.branch.io/link-settings" target="_blank">Link Settings</a>.</td>
</tr>
</tbody>
</table>
<h3 id="configure-your-esp">Configure your ESP<a class="headerlink" href="#configure-your-esp" title="Permanent link">&para;</a></h3>
<p>To open the app directly on iOS 9.2+, you must configure your {{ page.title }} integration to support <a href="../../../getting-started/universal-app-links/">Universal Links</a>, and configure your app to support {{page.title}} + Universal Links.</p>
<h4 id="tell-us-your-click-tracking-domain">Tell us your click tracking domain<a class="headerlink" href="#tell-us-your-click-tracking-domain" title="Permanent link">&para;</a></h4>
<p>You can retrieve your click tracking domains from your Postup settings. On <strong>Done</strong> click, an AASA file - required for Universal Links - specific to that domain will be generated.</p>
<h4 id="configure-your-app-for-your-click-tracking-domain">Configure your app for your click tracking domain<a class="headerlink" href="#configure-your-app-for-your-click-tracking-domain" title="Permanent link">&para;</a></h4>
<p><img alt="image" src="../../../img/pages/email/responsys/configure-responsys-3.png" /></p>
<p>In this prompt, enter the email of someone on your team who is qualified to modify your iOS app, and then click <strong>Send</strong>. They will complete the <a href="#technical-setup">technical setup</a> steps below.</p>
<h3 id="technical-setup">Technical setup<a class="headerlink" href="#technical-setup" title="Permanent link">&para;</a></h3>
<p>The following app changes ensure that your email integration supports <a href="../../../getting-started/universal-app-links/">Universal Links</a>. You will need access to your app code to make these changes.</p>
<p>You should have <a href="#configure-your-app-for-your-click-tracking-domain">received an email from Branch</a> with your ESP's click tracking domain. If not, likely you or someone on your team still needs to complete the <a href="https://dashboard.branch.io/email" target="_blank">Deep Linked Email setup flow</a>.</p>
<div class="admonition protip">
<p class="admonition-title">How does it work?</p>
<p>Apple recognizes the click tracking domain as a Universal Link, and opens the app immediately without the browser opening. Once the app has opened, Branch will collect the referring URL that opened the app (at this time, it will be the click tracking url). Inside the app, Branch will robotically “click” the link, registering the click with the ESP, and returning the Branch link information to the Branch SDK inside the app. This information is then used to deep link the user to the correct in-app content. See the <a href="#support">Support</a> section for more information.</p>
</div>
<h4 id="set-up-your-click-tracking-domain">Set up your click tracking domain<a class="headerlink" href="#set-up-your-click-tracking-domain" title="Permanent link">&para;</a></h4>
<p>Only do this step after you've <a href="#tell-us-your-click-tracking-domain">provided your click tracking domain</a> to Branch.</p>
<ol>
<li>Create a CNAME for your subdomain and point it to <code>thirdparty.bnc.lt</code></li>
<li>Confirm with your Branch Account Manager that the domain is working correctly.</li>
</ol>
<h4 id="add-your-click-tracking-domain-to-your-associated-domains">Add your click tracking domain to your Associated Domains<a class="headerlink" href="#add-your-click-tracking-domain-to-your-associated-domains" title="Permanent link">&para;</a></h4>
<p>To enable Universal Links on your click tracking domain, you'll need to add the click tracking domain to your Associated Domains entitlement.</p>
<ol>
<li>In Xcode, go to the <code>Capabilities</code> tab of your project file.</li>
<li>Scroll down and enable <code>Associated Domains</code> if it is not already enabled. <img alt="image" src="../../../img/pages/email/enable-associated-domains.png" /></li>
<li>Copy your click tracking domain from the <a href="#configure-your-app-for-your-click-tracking-domain">email you received from Branch</a>, or retrieve it from your ESP's settings.</li>
<li>In the <code>Domains</code> section, click the <code>+</code> icon and add your click tracking domain. For example, if your click tracking domain is <code>email.example.com</code>, add an entry for <code>applinks:email.example.com</code>.
<img alt="image" src="../../../img/pages/email/add-domain.png" /></li>
</ol>
<div class="admonition protip">
<p class="admonition-title">Having trouble or new to Universal Links?</p>
<p>Follow <a href="../../../getting-started/universal-app-links/guide/ios/">these instructions</a> for more details on enabling Universal Links in the Branch dashboard and in Xcode.</p>
</div>
<h4 id="handle-links-for-web-only-content">Handle links for web-only content<a class="headerlink" href="#handle-links-for-web-only-content" title="Permanent link">&para;</a></h4>
<p>If you have links to content that exists only on web, and not in the app (for example, a temporary marketing webpage that isn't in the app) then this code snippet will ensure all links that have not had the deep linking script applied will open in a browser.</p>
<p>You should add this code snippet inside the deep link handler code block. Note that this uses query parameter <code>$web_only=true</code>. This should match the <a href="#flag-your-web-only-links">query parameter on the web URL</a> you enter in the email.</p>
<div class="codehilite"><pre><span></span><span class="p">[</span><span class="n">branch</span> <span class="nl">initSessionWithLaunchOptions</span><span class="p">:</span><span class="n">launchOptions</span> <span class="nl">andRegisterDeepLinkHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// params are the deep linked params associated with the link that the user clicked before showing up.</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s">@&quot;$3p&quot;</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">params</span><span class="p">[</span><span class="s">@&quot;$web_only&quot;</span><span class="p">])</span> <span class="p">{</span>
            <span class="bp">NSURL</span> <span class="o">*</span><span class="n">url</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSURL</span> <span class="nl">URLWithString</span><span class="p">:</span><span class="n">params</span><span class="p">[</span><span class="s">@&quot;$original_url&quot;</span><span class="p">]];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="p">{</span>
                <span class="p">[</span><span class="n">application</span> <span class="nl">openURL</span><span class="p">:</span><span class="n">url</span><span class="p">];</span> <span class="c1">// check to make sure your existing deep linking logic, if any, is not executed, perhaps by returning early</span>
            <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> 
    <span class="c1">// it is a deep link</span>
    <span class="n">GDLog</span><span class="p">(</span><span class="s">@&quot;branch deep link: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">params</span> <span class="n">description</span><span class="p">]);</span> 
    <span class="p">[</span><span class="nb">self</span> <span class="nl">handleBranchDeeplink</span><span class="p">:</span><span class="n">params</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}];</span>
</pre></div>

<h3 id="validate-and-test">Validate and test<a class="headerlink" href="#validate-and-test" title="Permanent link">&para;</a></h3>
<p><img alt="image" src="../../../img/pages/email/validate-test.png" /></p>
<p>The last step of the <a href="https://dashboard.branch.io/email" target="_blank">Deep Linked Email setup flow</a> validates whether you have completed all necessary steps and whether an engineer on your team has completed the <a href="#technical-setup">technical setup</a> steps. You will also see recommendations for how to improve your email integration.</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p>Once you’ve completed the <a href="#setup">one time setup steps</a>, it’s time to send your first email.</p>
<p>This guide will identify which web links you'd like to open the app and deep link, as well as convert them to Branch links</p>
<h3 id="options-for-generating-branch-links-for-email">Options for generating Branch links for email<a class="headerlink" href="#options-for-generating-branch-links-for-email" title="Permanent link">&para;</a></h3>
<p>There are a few different ways you can create Branch links that are compatible with Deep Linked Email + {{ page.title }}. You will need to replace the web URLs in your templates with these. To create Branch links, you can either:</p>
<ol>
<li><a href="#making-regular-branch-links-compatible-with-email">Making regular Branch links compatible with email</a></li>
<li><a href="#create-email-links-via-api-without-changing-your-email-templates">Create email links via API without changing your email templates</a></li>
<li><a href="#convert-all-web-links-in-your-email-to-deep-links">Convert all web links in your email to deep links</a></li>
</ol>
<h4 id="making-regular-branch-links-compatible-with-email">Making regular Branch links compatible with email<a class="headerlink" href="#making-regular-branch-links-compatible-with-email" title="Permanent link">&para;</a></h4>
<p>Be sure to add <code>"$3p":"{{ page.machine_name }}"</code> to the deep link data of any links you use in email to ensure Universal Link and click tracking works as expected.</p>
<h4 id="create-email-links-via-api-without-changing-your-email-templates">Create email links via API without changing your email templates<a class="headerlink" href="#create-email-links-via-api-without-changing-your-email-templates" title="Permanent link">&para;</a></h4>
<p>To create email links via API, please use the instructions on how to <a href="../../../getting-started/creating-links/other-ways/#http-api">create links via API</a>, but include the following key value pairs in your call:</p>
<ol>
<li><code>"$3p":"{{ page.machine_name }}"</code> This is required for Universal Link and click tracking functionality.</li>
<li><code>"$original_url":"{{your web url URI encoded}}"</code> For each piece of content, include a URI encoded version of your content's web URL. You can also add deep link data as query parameters on that web URL. This ensures accurate Content Analytics reporting. <strong>Example: <code>"$original_url":"https%3A%2F%2Fshop.com%2Fshoes%2Fbrown-shoes%3Fmy_key%3Dmy_value%26campaign%3Dshoe_discounts"</code></strong></li>
</ol>
<h4 id="convert-all-web-links-in-your-email-to-deep-links">Convert all web links in your email to deep links<a class="headerlink" href="#convert-all-web-links-in-your-email-to-deep-links" title="Permanent link">&para;</a></h4>
<p>We have provided <a href="../../../third-party-integrations/remote-deep-links/guide/">a way</a> of easily converting web links to Branch links, as well as <a href="https://gist.github.com/derrickstaten/f9b1e72e506f79628ab9127dd114dd83#file-sendgrid-demo-js">an example</a>. The example takes an html email (as a string) and applies the script to it.</p>
<p>Here is the script:</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;crypto&#39;</span><span class="p">);</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">original_url</span><span class="p">,</span> <span class="nx">branch_base_url</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">original_url</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Missing original_url&#39;</span><span class="p">);</span> <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">original_url</span> <span class="o">!=</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Invalid original_url&#39;</span><span class="p">);</span> <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">branch_base_url</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Missing branch_base_url, should be similar to https://bnc.lt/abcd/3p?%243p=xx&#39;</span><span class="p">);</span> <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">branch_base_url</span> <span class="o">!=</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Invalid branch_base_url&#39;</span><span class="p">);</span> <span class="p">}</span>

    <span class="k">return</span> <span class="nx">branch_base_url</span> <span class="o">+</span> <span class="s1">&#39;&amp;%24original_url=&#39;</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">original_url</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>

<p>Here is how links look before and after (the latter being a Branch deep link).</p>
<ol>
<li><em>Before:</em> <a href="http://example.com/?foo=bar">http://example.com/?foo=bar</a></li>
<li><em>After:</em> <a _="{" href="https://vza3.app.link/3p?%243p=" page.machine_name="page.machine_name">https://vza3.app.link/3p?%243p=</a>}&amp;%24original_url=http%3A%2F%2Fexample.com%2F%3Ffoo%3Dbar</li>
</ol>
<p>(note that these are simplified examples, not actual demo links)</p>
<h3 id="flag-your-web-only-links">Flag your web-only links<a class="headerlink" href="#flag-your-web-only-links" title="Permanent link">&para;</a></h3>
<p>With {{page.title}}, all email links will open the app by default. In order for your app to know that the email link should bounce to web after opening the app, add <code>%24web_only%3Dtrue</code> to your links as a query parameter, for example:</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://vza3.app.link/3p?%243p={{ page.machine_name }}&amp;%24original_url=http%3A%2F%2Fexample.com%2F%3Ffoo%3Dbar%24web_only%3Dtrue&quot;</span> <span class="p">&gt;</span>Link to your app!<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>

<div class="admonition caution">
<p class="admonition-title">Handle links for web-only content</p>
<p>Make sure you have completed the <a href="#handle-links-for-web-only-content">technical setup steps</a> to handle web-only links within your app.</p>
</div>
<h2 id="support">Support<a class="headerlink" href="#support" title="Permanent link">&para;</a></h2>
<h3 id="how-does-link-creation-work">How does link creation work?<a class="headerlink" href="#how-does-link-creation-work" title="Permanent link">&para;</a></h3>
<h4 id="three-stages-of-a-link">Three stages of a link<a class="headerlink" href="#three-stages-of-a-link" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Link name</th>
<th>Link example</th>
<th>Link description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Original link</td>
<td><a href="https://www.shop.com/product">https://www.shop.com/product</a></td>
<td>This is the original link that you would put in an email. If emails are dynamically personalized, this will be the link that is filled in by the personalization engine.</td>
</tr>
<tr>
<td>Branch link</td>
<td><a href="https://branch.shop.com/?original_url=https%3A%2F%2Fwww.shop.com%2Fproduct">https://branch.shop.com/?original_url=https%3A%2F%2Fwww.shop.com%2Fproduct</a></td>
<td>A Branch deep link, that handles all redirection for users on any platform, with or without the app.</td>
</tr>
<tr>
<td>Click Tracking URL</td>
<td><a href="https://email.shop.com/click/abcde12345">https://email.shop.com/click/abcde12345</a></td>
<td>An ESP generated click tracking URL. The URL doesn’t signify anything, but when clicked, records the click and redirects to a given destination.</td>
</tr>
</tbody>
</table>
<p><img alt="image" src="../../../img/pages/email/responsys/deep-linked-email-creation-flow.png" /></p>
<h4 id="redirect-behavior-and-tracking">Redirect behavior and tracking<a class="headerlink" href="#redirect-behavior-and-tracking" title="Permanent link">&para;</a></h4>
<p>When your customer clicks the click tracking link in an email, the browser will generally open. Once in the browser, the click tracking redirect will happen, followed by an instant redirect to the Branch link. At this point, Branch will either stay in the browser, and load the original URL (if the app is not installed, or the customer is on a desktop device), or Branch will open the app and deep link to content. Branch uses the information from the original URL to deep link to the correct in-app content.</p>
<p><img alt="image" src="../../../img/pages/email/responsys/deep-linked-email-post-click.png" /></p>
<h3 id="universal-links-and-click-tracking">Universal links and click tracking<a class="headerlink" href="#universal-links-and-click-tracking" title="Permanent link">&para;</a></h3>
<p>Apple introduced Universal Links starting with iOS 9. Apple introduced Universal Links starting with iOS 9. You must configure your app and your links in a specific way to enable Universal Link functionality. Branch guides developers through this process so that Branch links function as Universal Links.</p>
<p>For Universal Links to work, Apple requires that a file called an “Apple-App-Site-Association” (AASA) file must be hosted on the domain of the link in question. When the link is clicked, Apple will check for the presence of this file to decide whether or not to open the app. All Branch links are Universal Links, because we will host this file securely on your Branch link domain.</p>
<p>When you click a Branch link directly from an email inside the Mail app on iOS 9+, it functions as a Universal Link - it redirects directly into the desired app. However, if you put a Branch Universal Link behind a click tracking URL, it won’t deep link into the app. This is because generally, a click tracking URL is not a Universal Link. If you’re not hosting that AASA file on the click tracking URL’s domain, you aren’t going to get Universal Link behavior for that link.</p>
<p><strong>Solution</strong></p>
<p>To solve this, Branch will host the AASA file on your click tracking domain. We’ll help you get set up with this.</p>
<p><img alt="image" src="../../../img/pages/email/responsys/deep-linked-email-universal-links.png" /></p>
<h3 id="deep-linking-setup-messages">Deep linking setup messages<a class="headerlink" href="#deep-linking-setup-messages" title="Permanent link">&para;</a></h3>
<p>In the <strong>Set up Deep Linking</strong> step of the email onboarding flow, you will see a result indicating the mapping between your web content and your app content.</p>
<h4 id="we-think-you-use-your-web-url-for-deep-linking">We think you use your web URL for deep linking<a class="headerlink" href="#we-think-you-use-your-web-url-for-deep-linking" title="Permanent link">&para;</a></h4>
<p><img alt="image" src="../../../img/pages/email/responsys/web-url-result.png" /></p>
<p>If your webpage, for instance at the URL <code>https://shop.com/shoes/brown-loafers</code>, has a tag like this:</p>
<p><code>&lt;meta name="al:ios:url" content="shop://https://shop.com/shoes/brown-loafers" /&gt;</code></p>
<p>or this:</p>
<p><code>&lt;meta name="al:android:url" content="shop://shoes/brown-loafers" /&gt;</code></p>
<p>Your deep linking setup for email will use all or part of your <strong>web URL</strong> as a deep link value. It can use either the full URL including the protocol (<code>https://shop.com/shoes/brown-loafers</code>), the full URL without the protocol (<code>shop.com/shoes/brown-loafers</code>), or the path of the URL (<code>shoes/brown-loafers</code>).</p>
<h4 id="we-think-you-host-your-deep-link-data-on-your-website">We think you host your deep link data on your website<a class="headerlink" href="#we-think-you-host-your-deep-link-data-on-your-website" title="Permanent link">&para;</a></h4>
<p><img alt="image" src="../../../img/pages/email/responsys/hosted-data-result.png" /></p>
<p>If instead, your webpage has a tag like this:</p>
<p><code>&lt;meta name="branch:deeplink:product_id" content="123456" /&gt;</code></p>
<p>or this:</p>
<p><code>&lt;meta name="al:ios:url" content="shop://id/123456" /&gt;</code></p>
<p>Your deep linking setup for email will use the <strong>hosted deep link data</strong> method. This means that no mapping can be made to the URL, and <a href="../../../getting-started/hosted-deep-link-data/guide/">meta tags that can be used for deep linking</a> will be retrieved from your webpage on an ongoing basis.</p>
<h4 id="we-couldnt-determine-your-deep-linking-setup-from-your-web-url">We couldn't determine your deep linking setup from your web URL<a class="headerlink" href="#we-couldnt-determine-your-deep-linking-setup-from-your-web-url" title="Permanent link">&para;</a></h4>
<p>If there are no meta tags for deep linking on your webpage, or you indicate that the mapping is incorrect, you can try a Branch link instead.</p>
<p><img alt="image" src="../../../img/pages/email/responsys/enter-branch-link.png" /></p>
<p>Here, you will want to enter a Branch link that opens to a page within your app (not the home screen).</p>
<p>When you click <strong>Submit</strong>, the link's values for <code>$canonical_url</code>, <code>$desktop_url</code>, and <code>$fallback_url</code> will be compared against other values in the link. If there is a mapping between values for the full URL or the path of the URL, your deep linking setup for email will use those methods.</p>
<h4 id="test-your-link">Test your link<a class="headerlink" href="#test-your-link" title="Permanent link">&para;</a></h4>
<p>When you submit a web URL or Branch link, you will be prompted with a test link. Click this link on iOS and Android devices, and verify that it will open your app to the right place.</p>
<p><img alt="image" src="../../../img/pages/email/responsys/test-link.png" /></p>
<p>Once you click <strong>Yes</strong>, your deep linking will be set up for email. When a user clicks a link in your emails, we will embed the full web URL, path of the web URL, or retrieved deep link data from the webpage into a Branch version of that link and pass it to your app, so that it will open to the right place.</p>
                
                  
                
              
              
                
                  <h2 id="__comments">Comments</h2>
                  <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = "https://docs.branch.io/pages/emails/postup/";
    this.page.identifier =
      "/pages/emails/postup/";
  };
  (function() {
    var d = document, s = d.createElement("script");
    s.src = "//branch-docs.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
                
              
            </article>
          </div>
        </div>
      </main>
      
        
          <div class="branch-floater branch-beta">Beta Release</div>
        
        
          <a class="branch-floater branch-old-docs" href="http://dev.branch.io/" title="old docs">&#8678; Old docs</a>
        
      
      
        <div class="modals">
          <div id="modal-search" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content" id="algolia-search-container">
              <i class="material-icons modal-close right">close</i>
              <h2>Search</h2>
              <input type="text" placeholder="search docs..." id="algolia-doc-search" autofocus>
            </div>
          </div>
          <div id="modal-unhelpful" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Unhelpful?</h2>
              <p>How can we improve or assist you?</p>
              <a href="#" class="improve-doc" title="Improve This Doc">Improve this doc</a>
              <a href="#" class="contact-support" title="Contact support">Contact support</a>
            </div>
          </div>
          <div id="modal-choose-app" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Choose your app</h2>
              <button type="button">iOS</button>
              <button type="button">Android</button>
              <button type="button">Cordova Ionic PhoneGap</button>
              <button type="button">React Native</button>
            </div>
          </div>
          <div id="modal-helpful" class="modal notification">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Thank you</h2>
            </div>
          </div>
          <div id="modal-image" class="modal dialog image">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Image</h2>
              <a id="modal-image-link" href="#">
                <img id="modal-image-img">
              </a>
            </div>
          </div>
          <div id="modal-code" class="modal dialog code">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Select your platform</h2>
              <div class="flex">
                <button id="modal-code-ios">iOS</button>
                <button id="modal-code-android">Android</button>
              </div>
              <div class="flex">
                <button id="modal-code-adobe">Adobe AIR</button>
                <button id="modal-code-cordova">Cordova PhoneGap Ionic</button>
              </div>
              <div class="flex">
                <button id="modal-code-mparticle-android">mParticle Android</button>
                <button id="modal-code-mparticle-ios">mParticle iOS</button>
              </div>
              <div class="flex">
                <button id="modal-code-titanium">Titanium</button>
                <button id="modal-code-react">React Native</button>
              </div>
              <div class="flex">
                <button id="modal-code-unity">Unity</button>
                <button id="modal-code-xamarin">Xamarin</button>
              </div>
            </div>
          </div>
        </div>
      
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 <a href="https://branch.io">Branch</a>
          </div>
        
        All rights reserved
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://branch.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/branchmetrics/docs" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/branchmetrics" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/branchmetrics" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.linkedin.com/company-beta/3813083" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application-26aeb842c9.js"></script>
      <script>app.initialize({url:{base:"../../.."}})</script>
      
        <script src="../../../js/router.js"></script>
      
        <script src="../../../js/events.js"></script>
      
        <script src="../../../js/modals.js"></script>
      
        <script src="../../../js/images.js"></script>
      
        <script src="../../../js/buttons.js"></script>
      
        <script src="../../../js/progress.js"></script>
      
        <script src="../../../js/tabs.js"></script>
      
        <script src="../../../js/languages.js"></script>
      
        <script src="../../../js/utils.js"></script>
      
        <script src="../../../js/main.js"></script>
      
      
        <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
        <script>docsearch({apiKey:"887017d17a2c1e9490ad2c44caa7e817",indexName:"branchmetrics",inputSelector:"#algolia-doc-search",debug:"True",algoliaOptions:{hitsPerPage:"15"}})</script>
      
      
        <script>!function(e,t){if(!t.__SV){var n=window;try{var i,a,p,o=n.location,r=o.hash;i=function(e,t){return(a=e.match(RegExp(t+"=([^&]*)")))?a[1]:null},r&&i(r,"state")&&(p=JSON.parse(decodeURIComponent(i(r,"state"))),"mpeditor"===p.action&&(n.sessionStorage.setItem("_mpcehash",r),history.replaceState(p.desiredHash||"",e.title,o.pathname+o.search)))}catch(e){}var l,s;window.mixpanel=t,t._i=[],t.init=function(e,n,i){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var p=t;for("undefined"!=typeof i?p=t[i]=[]:i="mixpanel",p.people=p.people||[],p.toString=function(e){var t="mixpanel";return"mixpanel"!==i&&(t+="."+i),e||(t+=" (stub)"),t},p.people.toString=function(){return p.toString(1)+".people (stub)"},l="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),s=0;s<l.length;s++)a(p,l[s]);t._i.push([e,n,i])},t.__SV=1.2,n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(n,i)}}(document,window.mixpanel||[]),mixpanel.init("47ec8ea9ac102b1370221dcda476091c")</script>
      
      
        <script>!function(e,t,a,o,n,c,s){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,c=t.createElement(a),s=t.getElementsByTagName(a)[0],c.async=1,c.src=o,s.parentNode.insertBefore(c,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-53307642-1","auto"),ga("require","GTM-PCPBXCN"),ga("send","pageview")</script>
      
      
        <script>!function(e,t,n,o,c,a,f){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],a=t.createElement(n),a.async=!0,a.src=o,f=t.getElementsByTagName(n)[0],f.parentNode.insertBefore(a,f))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","1040694199304729"),fbq("track","PageView")</script>
        <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1040694199304729&ev=PageView&noscript=1"></noscript>
      
      
        <script>_linkedin_data_partner_id="21211",function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",e.parentNode.insertBefore(t,e)}()</script>
      
      
      
      
        <script>!function(){function e(){n===!1&&(n=!0,Munchkin.init("315-FTT-121",{domainLevel:2}))}var n=!1,t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//munchkin.marketo.net/munchkin.js",t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||e()},t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}()</script>
      
      
        <script>!function(e,t,n,o,c,p){e.qp||(o=e.qp=function(){o.qp?o.qp.apply(o,arguments):o.queue.push(arguments)},o.queue=[],c=document.createElement(t),c.async=!0,c.src=n,p=document.getElementsByTagName(t)[0],p.parentNode.insertBefore(c,p))}(window,"script","https://a.quora.com/qevents.js"),qp("init","247e840cafa44cae9ac4b50a0cc1965a"),qp("track","ViewContent")</script>
        <noscript><img height="1" width="1" style="display:none" src="https://q.quora.com/_/ad/247e840cafa44cae9ac4b50a0cc1965a/pixel?tag=ViewContent&noscript=1"></noscript>
      
    
  </body>
</html>